<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>How to build a native cross platform project with Flutter | Rody Davis</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="How to build a native cross platform project with Flutter" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="How to build a native cross platform project with Flutter" />
<meta property="og:description" content="How to build a native cross platform project with Flutter" />
<link rel="canonical" href="https://rodydavis.com/one-codebase-many-places/" />
<meta property="og:url" content="https://rodydavis.com/one-codebase-many-places/" />
<meta property="og:site_name" content="Rody Davis" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-09-06T07:00:00-07:00" />
<script type="application/ld+json">
{"url":"https://rodydavis.com/one-codebase-many-places/","headline":"How to build a native cross platform project with Flutter","dateModified":"2019-09-06T07:00:00-07:00","datePublished":"2019-09-06T07:00:00-07:00","description":"How to build a native cross platform project with Flutter","mainEntityOfPage":{"@type":"WebPage","@id":"https://rodydavis.com/one-codebase-many-places/"},"@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://rodydavis.com/feed.xml" title="Rody Davis" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Rody Davis</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/blog/">Blog</a><a class="page-link" href="/apps/">Apps</a><a class="page-link" href="/dev/">Dev</a><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">How to build a native cross platform project with Flutter</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-09-06T07:00:00-07:00" itemprop="datePublished">Sep 6, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="how-to-build-a-native-cross-platform-project-with-flutter">How to build a native cross platform project with Flutter</h1>

<p>You can find the final project <a href="https://github.com/AppleEducate/flutter_x/tree/finish">here</a>.</p>

<p>Up to now you have been able to create projects with Flutter that run on iOS/Android, Web and Desktop but only sharing pure dart plugins.
Flutter launched Flutter for web at Google I/O and was a temporary fork that required you to change imports from <code class="highlighter-rouge">import 'package:flutter/material.dart';</code> to <code class="highlighter-rouge">import 'package:flutter_web/material.dart';</code>. As you can image this was really difficult for a code base as you had to create a fork and change the imports. This also meant that you could not import any package that needed on a path or depended on flutter. The time as come and the merge is complete. Now you no longer need to change the imports!</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fyes_yes_yes.gif?alt=media&amp;token=8de14c62-733e-48ba-86e3-0085fc668c79" alt="icon" /></p>

<p>You can use any plugin now, have a debugger, create new flutter projects with the web folder added, web plugins, and so much more..</p>

<h3 id="disclaimer">Disclaimer</h3>

<p>You will need to be on the latest flutter for this to work.</p>

<h2 id="1-install-flutter">1. Install Flutter</h2>

<p><a href="https://flutter.io/get-started/install/">Download Flutter</a></p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fflutterlogo.jpg?alt=media&amp;token=217b093b-dc7a-4433-8f3b-9f1496b3ade2" alt="flutter" /></p>

<h2 id="2-create-new-flutter-project">2. Create new Flutter Project</h2>

<p>If you are pretty new to Flutter you can check out <a href="https://flutter.io/get-started/codelab/">this useful guide</a> on how to create a new project step by step.</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fcross-platform.jpg?alt=media&amp;token=790f7aac-a472-41f2-9b0e-f2ebec42c62b" alt="cross-platform" /></p>

<p>Create a new project named <code class="highlighter-rouge">flutter_x</code> and it should look like this:</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fnew_project.png?alt=media&amp;token=d4684c46-7b93-43ae-98b4-29ceb82a2d43" alt="flutter" /></p>

<p>You can also down the starter project <a href="https://github.com/AppleEducate/flutter_x/tree/starter">here</a>.</p>

<p>Your code should look like this:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="n">runApp</span><span class="o">(</span><span class="n">MyApp</span><span class="o">());</span>

<span class="kd">class</span> <span class="nc">MyApp</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="o">{</span>
  <span class="c1">// This widget is the root of your application.</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">MaterialApp</span><span class="o">(</span>
      <span class="nl">title:</span> <span class="s">'Flutter Demo'</span><span class="o">,</span>
      <span class="nl">theme:</span> <span class="n">ThemeData</span><span class="o">(</span>
        <span class="c1">// This is the theme of your application.</span>
        <span class="c1">//</span>
        <span class="c1">// Try running your application with "flutter run". You'll see the</span>
        <span class="c1">// application has a blue toolbar. Then, without quitting the app, try</span>
        <span class="c1">// changing the primarySwatch below to Colors.green and then invoke</span>
        <span class="c1">// "hot reload" (press "r" in the console where you ran "flutter run",</span>
        <span class="c1">// or simply save your changes to "hot reload" in a Flutter IDE).</span>
        <span class="c1">// Notice that the counter didn't reset back to zero; the application</span>
        <span class="c1">// is not restarted.</span>
        <span class="nl">primarySwatch:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">blue</span><span class="o">,</span>
      <span class="o">),</span>
      <span class="nl">home:</span> <span class="n">MyHomePage</span><span class="o">(</span><span class="nl">title:</span> <span class="s">'Flutter Demo Home Page'</span><span class="o">),</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">MyHomePage</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="o">{</span>
  <span class="n">MyHomePage</span><span class="o">({</span><span class="n">Key</span> <span class="n">key</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">title</span><span class="o">})</span> <span class="o">:</span> <span class="k">super</span><span class="o">(</span><span class="nl">key:</span> <span class="n">key</span><span class="o">);</span>

  <span class="c1">// This widget is the home page of your application. It is stateful, meaning</span>
  <span class="c1">// that it has a State object (defined below) that contains fields that affect</span>
  <span class="c1">// how it looks.</span>

  <span class="c1">// This class is the configuration for the state. It holds the values (in this</span>
  <span class="c1">// case the title) provided by the parent (in this case the App widget) and</span>
  <span class="c1">// used by the build method of the State. Fields in a Widget subclass are</span>
  <span class="c1">// always marked "final".</span>

  <span class="kd">final</span> <span class="kt">String</span> <span class="n">title</span><span class="o">;</span>

  <span class="nd">@override</span>
  <span class="n">_MyHomePageState</span> <span class="n">createState</span><span class="o">()</span> <span class="o">=&gt;</span> <span class="n">_MyHomePageState</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">_MyHomePageState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">MyHomePage</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">_counter</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

  <span class="kt">void</span> <span class="n">_incrementCounter</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">setState</span><span class="o">(()</span> <span class="o">{</span>
      <span class="c1">// This call to setState tells the Flutter framework that something has</span>
      <span class="c1">// changed in this State, which causes it to rerun the build method below</span>
      <span class="c1">// so that the display can reflect the updated values. If we changed</span>
      <span class="c1">// _counter without calling setState(), then the build method would not be</span>
      <span class="c1">// called again, and so nothing would appear to happen.</span>
      <span class="n">_counter</span><span class="o">++;</span>
    <span class="o">});</span>
  <span class="o">}</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// This method is rerun every time setState is called, for instance as done</span>
    <span class="c1">// by the _incrementCounter method above.</span>
    <span class="c1">//</span>
    <span class="c1">// The Flutter framework has been optimized to make rerunning build methods</span>
    <span class="c1">// fast, so that you can just rebuild anything that needs updating rather</span>
    <span class="c1">// than having to individually change instances of widgets.</span>
    <span class="k">return</span> <span class="n">Scaffold</span><span class="o">(</span>
      <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="o">(</span>
        <span class="c1">// Here we take the value from the MyHomePage object that was created by</span>
        <span class="c1">// the App.build method, and use it to set our appbar title.</span>
        <span class="nl">title:</span> <span class="n">Text</span><span class="o">(</span><span class="n">widget</span><span class="o">.</span><span class="na">title</span><span class="o">),</span>
      <span class="o">),</span>
      <span class="nl">body:</span> <span class="n">Center</span><span class="o">(</span>
        <span class="c1">// Center is a layout widget. It takes a single child and positions it</span>
        <span class="c1">// in the middle of the parent.</span>
        <span class="nl">child:</span> <span class="n">Column</span><span class="o">(</span>
          <span class="c1">// Column is also a layout widget. It takes a list of children and</span>
          <span class="c1">// arranges them vertically. By default, it sizes itself to fit its</span>
          <span class="c1">// children horizontally, and tries to be as tall as its parent.</span>
          <span class="c1">//</span>
          <span class="c1">// Invoke "debug painting" (press "p" in the console, choose the</span>
          <span class="c1">// "Toggle Debug Paint" action from the Flutter Inspector in Android</span>
          <span class="c1">// Studio, or the "Toggle Debug Paint" command in Visual Studio Code)</span>
          <span class="c1">// to see the wireframe for each widget.</span>
          <span class="c1">//</span>
          <span class="c1">// Column has various properties to control how it sizes itself and</span>
          <span class="c1">// how it positions its children. Here we use mainAxisAlignment to</span>
          <span class="c1">// center the children vertically; the main axis here is the vertical</span>
          <span class="c1">// axis because Columns are vertical (the cross axis would be</span>
          <span class="c1">// horizontal).</span>
          <span class="nl">mainAxisAlignment:</span> <span class="n">MainAxisAlignment</span><span class="o">.</span><span class="na">center</span><span class="o">,</span>
          <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
            <span class="n">Text</span><span class="o">(</span>
              <span class="s">'You have pushed the button this many times:'</span><span class="o">,</span>
            <span class="o">),</span>
            <span class="n">Text</span><span class="o">(</span>
              <span class="s">'</span><span class="si">$_counter</span><span class="s">'</span><span class="o">,</span>
              <span class="nl">style:</span> <span class="n">Theme</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">context</span><span class="o">).</span><span class="na">textTheme</span><span class="o">.</span><span class="na">display1</span><span class="o">,</span>
            <span class="o">),</span>
          <span class="o">],</span>
        <span class="o">),</span>
      <span class="o">),</span>
      <span class="nl">floatingActionButton:</span> <span class="n">FloatingActionButton</span><span class="o">(</span>
        <span class="nl">onPressed:</span> <span class="n">_incrementCounter</span><span class="o">,</span>
        <span class="nl">tooltip:</span> <span class="s">'Increment'</span><span class="o">,</span>
        <span class="nl">child:</span> <span class="n">Icon</span><span class="o">(</span><span class="n">Icons</span><span class="o">.</span><span class="na">add</span><span class="o">),</span>
      <span class="o">),</span> <span class="c1">// This trailing comma makes auto-formatting nicer for build methods.</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="3-run-your-project">3. Run your project</h2>

<p>Just to make sure everything is working go ahead and run the project on iOS/Android.</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fstarter_ipad.png?alt=media&amp;token=08e5ddfb-5216-4acd-9732-3c6c2e223adb" alt="flutter" /></p>

<p>You should have the counter application running and working correctly. Now quit and run on Chrome. It should be listed as a device. You can also run from the command line <code class="highlighter-rouge">flutter run -d chrome</code>.</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fstarter_web.png?alt=media&amp;token=09caabca-c92e-4ba0-9c87-93b06cf66a73" alt="flutter" /></p>

<blockquote>
  <p>You do not get hot reload yet on web so be aware of that.</p>
</blockquote>

<h2 id="4-set-up-project-structure">4. Set up project structure</h2>

<blockquote>
  <p>This is optional but I use this structure in all my apps</p>
</blockquote>

<pre><code class="language-auto">/lib
    /ui
        /common
        /screen
    /data
        /classes
        /models
        /blocs
        /abstract
        /services
        /database
        /utils
    /plugins
</code></pre>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fstructure.png?alt=media&amp;token=de6b4797-ff2e-4bd9-b3ae-dd45c3678c0e" alt="flutter" /></p>

<p>Your project should now look like this.</p>

<h2 id="5-import-plugins">5. Import Plugins</h2>

<p>Open your <code class="highlighter-rouge">pubspec.yaml</code> and import the following packages.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">universal_html</span><span class="pi">:</span>
<span class="na">url_launcher</span><span class="pi">:</span>
</code></pre></div></div>

<blockquote>
  <p>You can also remove the comments generated in the pubspec.yaml</p>
</blockquote>

<p>Your pubspec.yaml will now read like this:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">name</span><span class="pi">:</span> <span class="s">flutter_x</span>
<span class="na">description</span><span class="pi">:</span> <span class="s">A new Flutter project.</span>

<span class="na">version</span><span class="pi">:</span> <span class="s">1.0.0+1</span>

<span class="na">environment</span><span class="pi">:</span>
  <span class="na">sdk</span><span class="pi">:</span> <span class="s2">"</span><span class="s">&gt;=2.1.0</span><span class="nv"> </span><span class="s">&lt;3.0.0"</span>

<span class="na">dependencies</span><span class="pi">:</span>
  <span class="na">flutter</span><span class="pi">:</span>
    <span class="na">sdk</span><span class="pi">:</span> <span class="s">flutter</span>

  <span class="na">cupertino_icons</span><span class="pi">:</span> <span class="s">^0.1.2</span>
  <span class="na">universal_html</span><span class="pi">:</span> <span class="s">^1.1.0</span>
  <span class="na">url_launcher</span><span class="pi">:</span> <span class="s">^5.1.2</span>

<span class="na">dev_dependencies</span><span class="pi">:</span>
  <span class="na">flutter_test</span><span class="pi">:</span>
    <span class="na">sdk</span><span class="pi">:</span> <span class="s">flutter</span>

<span class="na">flutter</span><span class="pi">:</span>

  <span class="na">uses-material-design</span><span class="pi">:</span> <span class="no">true</span>

</code></pre></div></div>

<h2 id="6-setup-the-plugin-implementation">6. Setup the plugin implementation</h2>

<p>By default if you were to check if the device was mobile or web you will get an error at compile time when trying to import a plugin that is not meant for the platform. To get around this we will use dynamic imports.</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Furl_launcher.png?alt=media&amp;token=745b17a7-a6d0-412e-a700-77f0e55d1742" alt="flutter" /></p>

<p>Create a url_launcher folder and file <code class="highlighter-rouge">url_launcher.dart</code>, <code class="highlighter-rouge">mobile.dart</code>, <code class="highlighter-rouge">web.dart</code>, <code class="highlighter-rouge">unsupported.dart</code> inside the plugins folder.</p>

<h2 id="7-dynamic-imports">7: Dynamic Imports</h2>

<p>In the file <code class="highlighter-rouge">url_launcher.dart</code> add the following:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">export</span> <span class="s">'unsupported.dart'</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">dart</span><span class="o">.</span><span class="na">library</span><span class="o">.</span><span class="na">html</span><span class="o">)</span> <span class="s">'web.dart'</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">dart</span><span class="o">.</span><span class="na">library</span><span class="o">.</span><span class="na">io</span><span class="o">)</span> <span class="s">'mobile.dart'</span><span class="o">;</span>
</code></pre></div></div>

<p>This will pick the correct file at runtime and give a fallback if it is not supported.</p>

<h2 id="8-fallback-for-plugin">8: Fallback for Plugin</h2>

<p>To protect against edge cases you will need to set up a fallback for the import. In <code class="highlighter-rouge">unsupported.dart</code> add the following:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">UrlUtils</span> <span class="o">{</span>
  <span class="n">UrlUtils</span><span class="o">.</span><span class="na">_</span><span class="o">();</span>

  <span class="kd">static</span> <span class="kt">void</span> <span class="n">open</span><span class="o">(</span><span class="kt">String</span> <span class="n">url</span><span class="o">,</span> <span class="o">{</span><span class="kt">String</span> <span class="n">name</span><span class="o">})</span> <span class="o">{</span>
    <span class="k">throw</span> <span class="s">'Platform Not Supported'</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The class <code class="highlighter-rouge">UrlUtils</code> and the public methods have to match all three files for this to work correctly. Always set up the unsupported first then copy the file into <code class="highlighter-rouge">mobile.dart</code> and <code class="highlighter-rouge">web.dart</code> to ensure no typos.</p>

<p>You should now have 3 files with the above code in each class.</p>

<h2 id="9-mobile-side">9: Mobile Side</h2>

<p>In <code class="highlighter-rouge">mobile.dart</code> add the following:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:url_launcher/url_launcher.dart'</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">UrlUtils</span> <span class="o">{</span>
  <span class="n">UrlUtils</span><span class="o">.</span><span class="na">_</span><span class="o">();</span>

  <span class="kd">static</span> <span class="kt">void</span> <span class="n">open</span><span class="o">(</span><span class="kt">String</span> <span class="n">url</span><span class="o">,</span> <span class="o">{</span><span class="kt">String</span> <span class="n">name</span><span class="o">})</span> <span class="n">async</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">await</span> <span class="n">canLaunch</span><span class="o">(</span><span class="n">url</span><span class="o">))</span> <span class="o">{</span>
      <span class="n">await</span> <span class="n">launch</span><span class="o">(</span><span class="n">url</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>This will open the link in safari view controller or android’s default browser respectively.</p>

<h2 id="10-web-side">10: Web Side</h2>

<p>In <code class="highlighter-rouge">web.dart</code> add the following:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:universal_html/prefer_universal/html.dart'</span> <span class="k">as</span> <span class="n">html</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">UrlUtils</span> <span class="o">{</span>
  <span class="n">UrlUtils</span><span class="o">.</span><span class="na">_</span><span class="o">();</span>

  <span class="kd">static</span> <span class="kt">void</span> <span class="n">open</span><span class="o">(</span><span class="kt">String</span> <span class="n">url</span><span class="o">,</span> <span class="o">{</span><span class="kt">String</span> <span class="n">name</span><span class="o">})</span> <span class="o">{</span>
    <span class="n">html</span><span class="o">.</span><span class="na">window</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">name</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>This will open up a new window in the browser with the specified link.</p>

<h2 id="11-connect-the-ui">11: Connect the UI</h2>

<p>Add a button to the center of the screen. The <code class="highlighter-rouge">ui/home/screen.dart</code> should read the following:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">MyHomePage</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="o">{</span>
  <span class="n">MyHomePage</span><span class="o">({</span><span class="n">Key</span> <span class="n">key</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">title</span><span class="o">})</span> <span class="o">:</span> <span class="k">super</span><span class="o">(</span><span class="nl">key:</span> <span class="n">key</span><span class="o">);</span>

  <span class="kd">final</span> <span class="kt">String</span> <span class="n">title</span><span class="o">;</span>

  <span class="nd">@override</span>
  <span class="n">_MyHomePageState</span> <span class="n">createState</span><span class="o">()</span> <span class="o">=&gt;</span> <span class="n">_MyHomePageState</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">_MyHomePageState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">MyHomePage</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">Scaffold</span><span class="o">(</span>
      <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="o">(</span>
        <span class="nl">title:</span> <span class="n">Text</span><span class="o">(</span><span class="n">widget</span><span class="o">.</span><span class="na">title</span><span class="o">),</span>
      <span class="o">),</span>
      <span class="nl">body:</span> <span class="n">Center</span><span class="o">(</span>
          <span class="nl">child:</span> <span class="n">RaisedButton</span><span class="o">(</span>
        <span class="nl">child:</span> <span class="n">Text</span><span class="o">(</span><span class="s">'Open Flutter.dev'</span><span class="o">),</span>
        <span class="nl">onPressed:</span> <span class="o">()</span> <span class="o">{},</span>
      <span class="o">)),</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Update the <code class="highlighter-rouge">onPressed</code> to the following:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">onPressed:</span> <span class="o">()</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
        <span class="n">UrlUtils</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="s">'https://flutter.dev'</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">print</span><span class="o">(</span><span class="s">'Error -&gt; </span><span class="si">$e</span><span class="s">'</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">},</span>
</code></pre></div></div>

<p>Now when you go to import the <code class="highlighter-rouge">UrlUtils</code> it is important to import the correct URI.</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fimport.png?alt=media&amp;token=dfabe99e-4080-4e98-916e-27eabf27c1c6" alt="flutter" /></p>

<p>Make sure to import <code class="highlighter-rouge">import 'package:flutter_x/plugins/url_launcher/url_launcher.dart';</code> only.</p>

<blockquote>
  <p>You can use the relative import if you wish.</p>
</blockquote>

<h2 id="12-double-check">12: Double Check</h2>

<p>You UI code will now read the following:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>

<span class="kn">import</span> <span class="s">'../../plugins/url_launcher/url_launcher.dart'</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">MyHomePage</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="o">{</span>
  <span class="n">MyHomePage</span><span class="o">({</span><span class="n">Key</span> <span class="n">key</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">title</span><span class="o">})</span> <span class="o">:</span> <span class="k">super</span><span class="o">(</span><span class="nl">key:</span> <span class="n">key</span><span class="o">);</span>

  <span class="kd">final</span> <span class="kt">String</span> <span class="n">title</span><span class="o">;</span>

  <span class="nd">@override</span>
  <span class="n">_MyHomePageState</span> <span class="n">createState</span><span class="o">()</span> <span class="o">=&gt;</span> <span class="n">_MyHomePageState</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">_MyHomePageState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">MyHomePage</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">Scaffold</span><span class="o">(</span>
      <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="o">(</span>
        <span class="nl">title:</span> <span class="n">Text</span><span class="o">(</span><span class="n">widget</span><span class="o">.</span><span class="na">title</span><span class="o">),</span>
      <span class="o">),</span>
      <span class="nl">body:</span> <span class="n">Center</span><span class="o">(</span>
          <span class="nl">child:</span> <span class="n">RaisedButton</span><span class="o">(</span>
        <span class="nl">child:</span> <span class="n">Text</span><span class="o">(</span><span class="s">'Open Flutter.dev'</span><span class="o">),</span>
        <span class="nl">onPressed:</span> <span class="o">()</span> <span class="o">{</span>
          <span class="k">try</span> <span class="o">{</span>
            <span class="n">UrlUtils</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="s">'https://flutter.dev'</span><span class="o">);</span>
          <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">print</span><span class="o">(</span><span class="s">'Error -&gt; </span><span class="si">$e</span><span class="s">'</span><span class="o">);</span>
          <span class="o">}</span>
        <span class="o">},</span>
      <span class="o">)),</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="13-run-your-app">13: Run Your App</h2>

<p>Your app on the web should look like this:</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fweb_1.png?alt=media&amp;token=acada5da-7a52-41e4-9825-8690c9f2df5d" alt="flutter" /></p>

<p>And when you tap the button..</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fweb_2.png?alt=media&amp;token=4df94af7-d8a9-4317-a8c8-043e2d865a59" alt="flutter" /></p>

<p>And when you run it on iOS/Android it should look like this:</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fmobile_1.png?alt=media&amp;token=6d451f0a-1457-4316-b712-f5fcebd1379c" alt="flutter" /></p>

<p>And when you tap the button..</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fmobile_2.png?alt=media&amp;token=c17a1215-5078-4377-992f-7ddf6569acb2" alt="flutter" /></p>

<h2 id="conclusion">Conclusion</h2>

<p>Congratulations! You made it :)</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fcongratulations.gif?alt=media&amp;token=62b62319-478b-4f89-87e1-73b5f414a3e5" alt="flutter" /></p>

<p>Here is the final project located <a href="https://github.com/AppleEducate/flutter_x/tree/finish">here</a>.</p>

<p>Please reach out if you have any questions!</p>

  </div><a class="u-url" href="/one-codebase-many-places/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Rody Davis</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Rody Davis</li><li><a class="u-email" href="mailto:rody.davis.jr@gmail.com">rody.davis.jr@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/rodydavis"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">rodydavis</span></a></li><li><a href="https://www.twitter.com/rodydavis"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">rodydavis</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Flutter powered development made easy.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
