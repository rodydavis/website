<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Building A Piano with Flutter | Rody Davis</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Building A Piano with Flutter" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Building A Piano with Flutter" />
<meta property="og:description" content="Building A Piano with Flutter" />
<link rel="canonical" href="https://rodydavis.com/2019/03/12/making-a-piano/" />
<meta property="og:url" content="https://rodydavis.com/2019/03/12/making-a-piano/" />
<meta property="og:site_name" content="Rody Davis" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-03-12T07:00:00-07:00" />
<script type="application/ld+json">
{"dateModified":"2019-03-12T07:00:00-07:00","datePublished":"2019-03-12T07:00:00-07:00","url":"https://rodydavis.com/2019/03/12/making-a-piano/","mainEntityOfPage":{"@type":"WebPage","@id":"https://rodydavis.com/2019/03/12/making-a-piano/"},"description":"Building A Piano with Flutter","@type":"BlogPosting","headline":"Building A Piano with Flutter","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://rodydavis.com/feed.xml" title="Rody Davis" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Rody Davis</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/apps/">Apps</a><a class="page-link" href="/dev/">Dev</a><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Building A Piano with Flutter</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-03-12T07:00:00-07:00" itemprop="datePublished">Mar 12, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="building-a-piano-with-flutter">Building A Piano with Flutter</h1>

<h2 id="tldr">TLDR</h2>

<p>You can find the final source code <a href="https://github.com/AppleEducate/flutter_piano/tree/5k">here</a>.</p>

<p>This piano uses only <code class="highlighter-rouge">5032</code> bytes of Dart Code!</p>

<p>Winner of the <a href="https://flutter.dev/create">Flutter Create Contest</a> and you can see the certificate <a href="https://www.credential.net/exbvca0q?key=8be94f32ad2f56882045e013e960fa888afa4edd52edb963c48df351c7d1e443">here</a>!</p>

<iframe src="https://pocketpiano.app" width="900" height="500"></iframe>

<h2 id="what-you-will-learn">What you will learn</h2>

<ul>
  <li>Working with Dark Mode</li>
  <li>Forcing app to be in landscape</li>
  <li>Working with custom files bundled with the app</li>
  <li>Working with midi and sounds in flutter</li>
  <li>Working with <code class="highlighter-rouge">StatefulWidget</code></li>
  <li>Using <code class="highlighter-rouge">SafeArea</code> and <code class="highlighter-rouge">Semantics</code></li>
  <li>Building an app with minimal code</li>
</ul>

<h2 id="what-you-need">What you need</h2>

<ul>
  <li><a href="https://flutter.dev/docs/get-started/install">Flutter SDK</a> Installed (<a href="https://flutter.dev/docs/get-started/codelab">More Info</a>)</li>
  <li>A <code class="highlighter-rouge">.sf2</code> SoundFont File like <a href="https://github.com/AppleEducate/flutter_piano/blob/5k/assets/sounds/Piano.sf2">this one</a></li>
  <li>Physical iOS device (iOS Simulator does not work with this plugin for playing the sounds) or Android Emulator/Device</li>
</ul>

<h2 id="setting-up">Setting Up</h2>

<p>You can either create a new project with Android Studio or VSCode using the GUI or navigate to the location you want your project and using this command in the terminal: <code class="highlighter-rouge">lutter create -i swift -a kotlin flutter_piano</code>. Make sure to include Swift and Kotlin Support!</p>

<p>Now that you have your project created it should look like this.</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fstarter.png?alt=media&amp;token=e5f5692c-c30e-40b8-a6cd-a31f1ab1a898" alt="app-icon" /></p>

<p>Let’s start by adding some dependencies to our `pubspec.yaml’</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">dependencies</span><span class="pi">:</span>
  <span class="na">flutter</span><span class="pi">:</span>
    <span class="na">sdk</span><span class="pi">:</span> <span class="s">flutter</span>
  <span class="na">tonic</span><span class="pi">:</span> <span class="s">^0.2.3</span>
  <span class="na">flutter_midi</span><span class="pi">:</span> <span class="s">^0.1.1+3</span>
  <span class="na">cupertino_icons</span><span class="pi">:</span> <span class="s">^0.1.2</span>
</code></pre></div></div>

<p>and add the .sf2 file</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="na">assets</span><span class="pi">:</span>
   <span class="pi">-</span> <span class="s">assets/sounds/Piano.sf2</span>
</code></pre></div></div>

<p>If you haven’t already create a new folder at the top of your project call <code class="highlighter-rouge">assets</code> and a subfolder called <code class="highlighter-rouge">sounds</code> and place the .sf2 file there and make sure it is named <code class="highlighter-rouge">Piano.sf2</code></p>

<p>Because our app will only work in landscape we need to update those settings as well.</p>

<p>navigate to the <code class="highlighter-rouge">/android/app/src/main/AndroidManifest.xml</code> and add this line inside <code class="highlighter-rouge">&lt;activity</code> in the <code class="highlighter-rouge">&lt;application</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>android:screenOrientation="landscape"
</code></pre></div></div>

<p>Example:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;manifest</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">package=</span><span class="s">"com.appleeducate.flutter_piano"</span><span class="nt">&gt;</span>

    <span class="c">&lt;!-- io.flutter.app.FlutterApplication is an android.app.Application that
         calls FlutterMain.startInitialization(this); in its onCreate method.
         In most cases you can leave this as-is, but you if you want to provide
         additional functionality it is fine to subclass or reimplement
         FlutterApplication and put your custom class here. --&gt;</span>
    <span class="nt">&lt;application</span>
        <span class="na">android:name=</span><span class="s">"io.flutter.app.FlutterApplication"</span>
        <span class="na">android:label=</span><span class="s">"flutter_piano"</span>
        <span class="na">android:icon=</span><span class="s">"@mipmap/ic_launcher"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;activity</span>
            <span class="na">android:name=</span><span class="s">".MainActivity"</span>
            <span class="na">android:launchMode=</span><span class="s">"singleTop"</span>
            <span class="na">android:theme=</span><span class="s">"@style/LaunchTheme"</span>
            <span class="na">android:configChanges=</span><span class="s">"orientation|keyboardHidden|keyboard|screenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode"</span>
            <span class="na">android:hardwareAccelerated=</span><span class="s">"true"</span>
            <span class="na">android:screenOrientation=</span><span class="s">"landscape"</span>
            <span class="na">android:windowSoftInputMode=</span><span class="s">"adjustResize"</span><span class="nt">&gt;</span>
            <span class="c">&lt;!-- This keeps the window background of the activity showing
                 until Flutter renders its first frame. It can be removed if
                 there is no splash screen (such as the default splash screen
                 defined in @style/LaunchTheme). --&gt;</span>
            <span class="nt">&lt;meta-data</span>
                <span class="na">android:name=</span><span class="s">"io.flutter.app.android.SplashScreenUntilFirstFrame"</span>
                <span class="na">android:value=</span><span class="s">"true"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;intent-filter&gt;</span>
                <span class="nt">&lt;action</span> <span class="na">android:name=</span><span class="s">"android.intent.action.MAIN"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;category</span> <span class="na">android:name=</span><span class="s">"android.intent.category.LAUNCHER"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/intent-filter&gt;</span>
        <span class="nt">&lt;/activity&gt;</span>
    <span class="nt">&lt;/application&gt;</span>
<span class="nt">&lt;/manifest&gt;</span>

</code></pre></div></div>

<p>navigate to <code class="highlighter-rouge">/ios/Runner/info.plist</code> and change:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;key&gt;UISupportedInterfaceOrientations&lt;/key&gt;
&lt;array&gt;
    &lt;string&gt;UIInterfaceOrientationLandscapeLeft&lt;/string&gt;
    &lt;string&gt;UIInterfaceOrientationLandscapeRight&lt;/string&gt;
&lt;/array&gt;
</code></pre></div></div>

<p>Now we can start with the UI! When you run the application now it should start in landscape!</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Flandscape.png?alt=media&amp;token=8a6a285a-fd07-4ee2-9845-250031ce5113" alt="landscape" /></p>

<h2 id="step-1">Step 1</h2>

<p>To make it eaiser to read lets remove the comments. Use “find and replace” and search for <code class="highlighter-rouge">\/\/.*</code></p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fcomments.png?alt=media&amp;token=bb0a02ad-37dd-451b-9878-5c353cab9acf" alt="comments" /></p>

<p>choose the “select all occurrances” button and hit <code class="highlighter-rouge">backspace</code> to delete.</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fselectall.png?alt=media&amp;token=8d12c59a-d07f-46c3-a8cc-2e31b4bd67bf" alt="select all" /></p>

<p>Hit save and you should see the code format for you.</p>

<p>The ‘main.dart’ file should look like this:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="n">runApp</span><span class="o">(</span><span class="n">MyApp</span><span class="o">());</span>

<span class="kd">class</span> <span class="nc">MyApp</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">MaterialApp</span><span class="o">(</span>
      <span class="nl">title:</span> <span class="s">'Flutter Demo'</span><span class="o">,</span>
      <span class="nl">theme:</span> <span class="n">ThemeData</span><span class="o">(</span>
        <span class="nl">primarySwatch:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">blue</span><span class="o">,</span>
      <span class="o">),</span>
      <span class="nl">home:</span> <span class="n">MyHomePage</span><span class="o">(</span><span class="nl">title:</span> <span class="s">'Flutter Demo Home Page'</span><span class="o">),</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">MyHomePage</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="o">{</span>
  <span class="n">MyHomePage</span><span class="o">({</span><span class="n">Key</span> <span class="n">key</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">title</span><span class="o">})</span> <span class="o">:</span> <span class="k">super</span><span class="o">(</span><span class="nl">key:</span> <span class="n">key</span><span class="o">);</span>

  <span class="kd">final</span> <span class="kt">String</span> <span class="n">title</span><span class="o">;</span>

  <span class="nd">@override</span>
  <span class="n">_MyHomePageState</span> <span class="n">createState</span><span class="o">()</span> <span class="o">=&gt;</span> <span class="n">_MyHomePageState</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">_MyHomePageState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">MyHomePage</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">_counter</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

  <span class="kt">void</span> <span class="n">_incrementCounter</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">setState</span><span class="o">(()</span> <span class="o">{</span>
      <span class="n">_counter</span><span class="o">++;</span>
    <span class="o">});</span>
  <span class="o">}</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">Scaffold</span><span class="o">(</span>
      <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="o">(</span>
        <span class="nl">title:</span> <span class="n">Text</span><span class="o">(</span><span class="n">widget</span><span class="o">.</span><span class="na">title</span><span class="o">),</span>
      <span class="o">),</span>
      <span class="nl">body:</span> <span class="n">Center</span><span class="o">(</span>
        <span class="nl">child:</span> <span class="n">Column</span><span class="o">(</span>
          <span class="nl">mainAxisAlignment:</span> <span class="n">MainAxisAlignment</span><span class="o">.</span><span class="na">center</span><span class="o">,</span>
          <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
            <span class="n">Text</span><span class="o">(</span>
              <span class="s">'You have pushed the button this many times:'</span><span class="o">,</span>
            <span class="o">),</span>
            <span class="n">Text</span><span class="o">(</span>
              <span class="s">'</span><span class="si">$_counter</span><span class="s">'</span><span class="o">,</span>
              <span class="nl">style:</span> <span class="n">Theme</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">context</span><span class="o">).</span><span class="na">textTheme</span><span class="o">.</span><span class="na">display1</span><span class="o">,</span>
            <span class="o">),</span>
          <span class="o">],</span>
        <span class="o">),</span>
      <span class="o">),</span>
      <span class="nl">floatingActionButton:</span> <span class="n">FloatingActionButton</span><span class="o">(</span>
        <span class="nl">onPressed:</span> <span class="n">_incrementCounter</span><span class="o">,</span>
        <span class="nl">tooltip:</span> <span class="s">'Increment'</span><span class="o">,</span>
        <span class="nl">child:</span> <span class="n">Icon</span><span class="o">(</span><span class="n">Icons</span><span class="o">.</span><span class="na">add</span><span class="o">),</span>
      <span class="o">),</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<h2 id="step-2">Step 2</h2>

<p>Delete the <code class="highlighter-rouge">MyHomePage</code> widget so you are left with this.</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="n">runApp</span><span class="o">(</span><span class="n">MyApp</span><span class="o">());</span>

<span class="kd">class</span> <span class="nc">MyApp</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">MaterialApp</span><span class="o">(</span>
      <span class="nl">title:</span> <span class="s">'Flutter Demo'</span><span class="o">,</span>
      <span class="nl">theme:</span> <span class="n">ThemeData</span><span class="o">(</span>
        <span class="nl">primarySwatch:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">blue</span><span class="o">,</span>
      <span class="o">),</span>
      <span class="nl">home:</span> <span class="n">MyHomePage</span><span class="o">(</span><span class="nl">title:</span> <span class="s">'Flutter Demo Home Page'</span><span class="o">),</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<p>You should get an error and thats ok, we will fix that next.</p>

<p>Replace <code class="highlighter-rouge">MyHomePage(title: 'Flutter Demo Home Page')</code> with a <code class="highlighter-rouge">Scaffold()</code></p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="n">runApp</span><span class="o">(</span><span class="n">MyApp</span><span class="o">());</span>

<span class="kd">class</span> <span class="nc">MyApp</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">MaterialApp</span><span class="o">(</span>
      <span class="nl">title:</span> <span class="s">'Flutter Demo'</span><span class="o">,</span>
      <span class="nl">theme:</span> <span class="n">ThemeData</span><span class="o">(</span>
        <span class="nl">primarySwatch:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">blue</span><span class="o">,</span>
      <span class="o">),</span>
      <span class="nl">home:</span> <span class="n">Scaffold</span><span class="o">(),</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<h2 id="step-3">Step 3</h2>

<p>Change <code class="highlighter-rouge">MyApp</code> to a <code class="highlighter-rouge">StatefulWidget</code>. You can do this quickly by selecting <code class="highlighter-rouge">MyApp</code> and choose “Convert to StatefulWidget” with the helper.</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fconvert.png?alt=media&amp;token=1d7569a2-caa3-45d6-b63a-33393ce34261" alt="convert" /></p>

<p>It should look like this now:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="n">runApp</span><span class="o">(</span><span class="n">MyApp</span><span class="o">());</span>

<span class="kd">class</span> <span class="nc">MyApp</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">_MyAppState</span> <span class="n">createState</span><span class="o">()</span> <span class="o">=&gt;</span> <span class="n">_MyAppState</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">_MyAppState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">MaterialApp</span><span class="o">(</span>
      <span class="nl">title:</span> <span class="s">'Flutter Demo'</span><span class="o">,</span>
      <span class="nl">theme:</span> <span class="n">ThemeData</span><span class="o">(</span>
        <span class="nl">primarySwatch:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">blue</span><span class="o">,</span>
      <span class="o">),</span>
      <span class="nl">home:</span> <span class="n">Scaffold</span><span class="o">(),</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<h1 id="step-4">Step 4</h1>

<p>Change the theme to dark. You can do this by setting the <code class="highlighter-rouge">ThemeData</code> in <code class="highlighter-rouge">MaterialApp</code></p>

<p>change:</p>
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">theme:</span> <span class="n">ThemeData</span><span class="o">(</span>
        <span class="nl">primarySwatch:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">blue</span><span class="o">,</span>
      <span class="o">),</span>
</code></pre></div></div>
<p>to this</p>
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">theme:</span> <span class="n">ThemeData</span><span class="o">.</span><span class="na">dark</span><span class="o">(),</span>
</code></pre></div></div>

<p>Add and <code class="highlighter-rouge">AppBar</code> to the <code class="highlighter-rouge">Scaffold</code></p>

<p><code class="highlighter-rouge">  appBar: AppBar(title: Text("Flutter Piano")),</code></p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="n">runApp</span><span class="o">(</span><span class="n">MyApp</span><span class="o">());</span>

<span class="kd">class</span> <span class="nc">MyApp</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">_MyAppState</span> <span class="n">createState</span><span class="o">()</span> <span class="o">=&gt;</span> <span class="n">_MyAppState</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">_MyAppState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">MaterialApp</span><span class="o">(</span>
      <span class="nl">title:</span> <span class="s">'Flutter Demo'</span><span class="o">,</span>
      <span class="nl">theme:</span> <span class="n">ThemeData</span><span class="o">.</span><span class="na">dark</span><span class="o">(),</span>
      <span class="nl">home:</span> <span class="n">Scaffold</span><span class="o">(</span>
        <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="o">(</span><span class="nl">title:</span> <span class="n">Text</span><span class="o">(</span><span class="s">"Flutter Piano"</span><span class="o">)),</span>
      <span class="o">),</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<p>Now build and run your app, it should look like this.</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fdarkmode.png?alt=media&amp;token=5472334f-15de-4743-b32e-0102f9a16a1d" alt="dark-mode" /></p>

<h2 id="step-5">Step 5</h2>

<p>We need to add some imports to the top:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/services.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'package:flutter_midi/flutter_midi.dart'</span><span class="o">;</span>
</code></pre></div></div>

<p>If you get an error make sure they are added in the <code class="highlighter-rouge">pubspec.yaml</code> from earlier, then restart the app. Be sure to run <code class="highlighter-rouge">flutter packages get</code> everytime you add a dependency.</p>

<p>Now we can add out <code class="highlighter-rouge">initState()</code> to our app.</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nd">@override</span>
 <span class="n">initState</span><span class="o">()</span> <span class="o">{</span>
   <span class="n">FlutterMidi</span><span class="o">.</span><span class="na">unmute</span><span class="o">();</span>
   <span class="n">rootBundle</span><span class="o">.</span><span class="na">load</span><span class="o">(</span><span class="s">"assets/sounds/Piano.sf2"</span><span class="o">).</span><span class="na">then</span><span class="o">((</span><span class="n">sf2</span><span class="o">)</span> <span class="o">{</span>
     <span class="n">FlutterMidi</span><span class="o">.</span><span class="na">prepare</span><span class="o">(</span><span class="nl">sf2:</span> <span class="n">sf2</span><span class="o">,</span> <span class="nl">name:</span> <span class="s">"Piano.sf2"</span><span class="o">);</span>
   <span class="o">});</span>
   <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="o">();</span>
 <span class="o">}</span>

</code></pre></div></div>

<p>Run the app and make sure you do not get any errors. If you are running this on the iOS Simulator you will get the following error:</p>

<p><code class="highlighter-rouge">Could Not Load Midi on this Device. (Cannot run on simulator), have you included the sound font?</code></p>

<p>It is ok for developing the UI but once we start with the midi you will need to plug in a real device.</p>

<p>Your code so far should look like this:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'package:flutter/services.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'package:flutter_midi/flutter_midi.dart'</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="n">runApp</span><span class="o">(</span><span class="n">MyApp</span><span class="o">());</span>

<span class="kd">class</span> <span class="nc">MyApp</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">_MyAppState</span> <span class="n">createState</span><span class="o">()</span> <span class="o">=&gt;</span> <span class="n">_MyAppState</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">_MyAppState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">initState</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">FlutterMidi</span><span class="o">.</span><span class="na">unmute</span><span class="o">();</span>
    <span class="n">rootBundle</span><span class="o">.</span><span class="na">load</span><span class="o">(</span><span class="s">"assets/sounds/Piano.sf2"</span><span class="o">).</span><span class="na">then</span><span class="o">((</span><span class="n">sf2</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">FlutterMidi</span><span class="o">.</span><span class="na">prepare</span><span class="o">(</span><span class="nl">sf2:</span> <span class="n">sf2</span><span class="o">,</span> <span class="nl">name:</span> <span class="s">"Piano.sf2"</span><span class="o">);</span>
    <span class="o">});</span>
    <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">MaterialApp</span><span class="o">(</span>
      <span class="nl">title:</span> <span class="s">'Flutter Demo'</span><span class="o">,</span>
      <span class="nl">theme:</span> <span class="n">ThemeData</span><span class="o">.</span><span class="na">dark</span><span class="o">(),</span>
      <span class="nl">home:</span> <span class="n">Scaffold</span><span class="o">(</span>
        <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="o">(</span><span class="nl">title:</span> <span class="n">Text</span><span class="o">(</span><span class="s">"Flutter Piano"</span><span class="o">)),</span>
      <span class="o">),</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<h2 id="step-6">Step 6</h2>

<p>To make Flutter development faster we start with containers and colors so we can make sure everything is the right size.</p>

<p>Lets start by adding a <code class="highlighter-rouge">Drawer</code> with a <code class="highlighter-rouge">ListView</code> to our <code class="highlighter-rouge">Scaffold</code>.</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nl">home:</span> <span class="n">Scaffold</span><span class="o">(</span>
        <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="o">(</span><span class="nl">title:</span> <span class="n">Text</span><span class="o">(</span><span class="s">"Flutter Piano"</span><span class="o">)),</span>
        <span class="nl">drawer:</span> <span class="n">Drawer</span><span class="o">(</span><span class="nl">child:</span> <span class="n">SafeArea</span><span class="o">(</span><span class="nl">child:</span> <span class="n">ListView</span><span class="o">(</span><span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[]))),</span>
      <span class="o">),</span>
</code></pre></div></div>

<p>You should now get a menu icon that when you press looks like this.</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fmenu.png?alt=media&amp;token=e3e8b229-f33a-43f2-afb0-c32119088181" alt="menu" /></p>

<p>Now lets add a ListView that scrolls Horizontially to the body of the <code class="highlighter-rouge">Scaffold</code></p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nl">body:</span> <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span>
            <span class="nl">itemCount:</span> <span class="mi">7</span><span class="o">,</span>
            <span class="nl">scrollDirection:</span> <span class="n">Axis</span><span class="o">.</span><span class="na">horizontal</span><span class="o">,</span>
            <span class="nl">itemBuilder:</span> <span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">,</span> <span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
              <span class="k">return</span> <span class="n">Container</span><span class="o">();</span>
            <span class="o">},</span>
          <span class="o">)</span>
</code></pre></div></div>

<p>We need 7 <code class="highlighter-rouge">itemCount</code> for 7 octaves on the Piano.</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'package:flutter/services.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'package:flutter_midi/flutter_midi.dart'</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="n">runApp</span><span class="o">(</span><span class="n">MyApp</span><span class="o">());</span>

<span class="kd">class</span> <span class="nc">MyApp</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">_MyAppState</span> <span class="n">createState</span><span class="o">()</span> <span class="o">=&gt;</span> <span class="n">_MyAppState</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">_MyAppState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">initState</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">FlutterMidi</span><span class="o">.</span><span class="na">unmute</span><span class="o">();</span>
    <span class="n">rootBundle</span><span class="o">.</span><span class="na">load</span><span class="o">(</span><span class="s">"assets/sounds/Piano.sf2"</span><span class="o">).</span><span class="na">then</span><span class="o">((</span><span class="n">sf2</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">FlutterMidi</span><span class="o">.</span><span class="na">prepare</span><span class="o">(</span><span class="nl">sf2:</span> <span class="n">sf2</span><span class="o">,</span> <span class="nl">name:</span> <span class="s">"Piano.sf2"</span><span class="o">);</span>
    <span class="o">});</span>
    <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">MaterialApp</span><span class="o">(</span>
      <span class="nl">title:</span> <span class="s">'Flutter Demo'</span><span class="o">,</span>
      <span class="nl">theme:</span> <span class="n">ThemeData</span><span class="o">.</span><span class="na">dark</span><span class="o">(),</span>
      <span class="nl">home:</span> <span class="n">Scaffold</span><span class="o">(</span>
          <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="o">(</span><span class="nl">title:</span> <span class="n">Text</span><span class="o">(</span><span class="s">"Flutter Piano"</span><span class="o">)),</span>
          <span class="nl">drawer:</span>
              <span class="n">Drawer</span><span class="o">(</span><span class="nl">child:</span> <span class="n">SafeArea</span><span class="o">(</span><span class="nl">child:</span> <span class="n">ListView</span><span class="o">(</span><span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[]))),</span>
          <span class="nl">body:</span> <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span>
            <span class="nl">itemCount:</span> <span class="mi">7</span><span class="o">,</span>
            <span class="nl">scrollDirection:</span> <span class="n">Axis</span><span class="o">.</span><span class="na">horizontal</span><span class="o">,</span>
            <span class="nl">itemBuilder:</span> <span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">,</span> <span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
              <span class="k">return</span> <span class="n">Container</span><span class="o">();</span>
            <span class="o">},</span>
          <span class="o">)),</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<h2 id="step-7">Step 7</h2>

<p>Now we need to build the octave section that will be repeated. Since every octave is identical we can repeat the octaves with minor adjustments.</p>

<p>Lets add some parameters for use to define for our UI. Add these underneath the initState function.</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">double</span> <span class="kd">get</span> <span class="n">keyWidth</span> <span class="o">=&gt;</span> <span class="mi">80</span> <span class="o">+</span> <span class="o">(</span><span class="mi">80</span> <span class="o">*</span> <span class="n">_widthRatio</span><span class="o">);</span>
<span class="kt">double</span> <span class="n">_widthRatio</span> <span class="o">=</span> <span class="mf">0.0</span><span class="o">;</span>
<span class="kt">bool</span> <span class="n">_showLabels</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
</code></pre></div></div>

<p>We will use these to dynamily update the keys.</p>

<p>Under the <code class="highlighter-rouge">itemBuilder</code> lets define which octave we are working with by adding:
<code class="highlighter-rouge">final int i = index * 12;</code></p>

<p>Our code should look like this now:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'package:flutter/services.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'package:flutter_midi/flutter_midi.dart'</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="n">runApp</span><span class="o">(</span><span class="n">MyApp</span><span class="o">());</span>

<span class="kd">class</span> <span class="nc">MyApp</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">_MyAppState</span> <span class="n">createState</span><span class="o">()</span> <span class="o">=&gt;</span> <span class="n">_MyAppState</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">_MyAppState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">initState</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">FlutterMidi</span><span class="o">.</span><span class="na">unmute</span><span class="o">();</span>
    <span class="n">rootBundle</span><span class="o">.</span><span class="na">load</span><span class="o">(</span><span class="s">"assets/sounds/Piano.sf2"</span><span class="o">).</span><span class="na">then</span><span class="o">((</span><span class="n">sf2</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">FlutterMidi</span><span class="o">.</span><span class="na">prepare</span><span class="o">(</span><span class="nl">sf2:</span> <span class="n">sf2</span><span class="o">,</span> <span class="nl">name:</span> <span class="s">"Piano.sf2"</span><span class="o">);</span>
    <span class="o">});</span>
    <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="kt">double</span> <span class="kd">get</span> <span class="n">keyWidth</span> <span class="o">=&gt;</span> <span class="mi">80</span> <span class="o">+</span> <span class="o">(</span><span class="mi">80</span> <span class="o">*</span> <span class="n">_widthRatio</span><span class="o">);</span>
  <span class="kt">double</span> <span class="n">_widthRatio</span> <span class="o">=</span> <span class="mf">0.0</span><span class="o">;</span>
  <span class="kt">bool</span> <span class="n">_showLabels</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
  
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">MaterialApp</span><span class="o">(</span>
      <span class="nl">title:</span> <span class="s">'Flutter Demo'</span><span class="o">,</span>
      <span class="nl">theme:</span> <span class="n">ThemeData</span><span class="o">.</span><span class="na">dark</span><span class="o">(),</span>
      <span class="nl">home:</span> <span class="n">Scaffold</span><span class="o">(</span>
          <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="o">(</span><span class="nl">title:</span> <span class="n">Text</span><span class="o">(</span><span class="s">"Flutter Piano"</span><span class="o">)),</span>
          <span class="nl">drawer:</span>
              <span class="n">Drawer</span><span class="o">(</span><span class="nl">child:</span> <span class="n">SafeArea</span><span class="o">(</span><span class="nl">child:</span> <span class="n">ListView</span><span class="o">(</span><span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[]))),</span>
          <span class="nl">body:</span> <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span>
            <span class="nl">itemCount:</span> <span class="mi">7</span><span class="o">,</span>
            <span class="nl">scrollDirection:</span> <span class="n">Axis</span><span class="o">.</span><span class="na">horizontal</span><span class="o">,</span>
            <span class="nl">itemBuilder:</span> <span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">,</span> <span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
              <span class="kd">final</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">index</span> <span class="o">*</span> <span class="mi">12</span><span class="o">;</span>
              <span class="k">return</span> <span class="n">Container</span><span class="o">();</span>
            <span class="o">},</span>
          <span class="o">)),</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<h2 id="step-8">Step 8</h2>

<p>Now we need to add a <code class="highlighter-rouge">Stack</code> for our octave:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">return</span> <span class="nf">SafeArea</span><span class="p">(</span>
               <span class="nl">child:</span> <span class="n">Stack</span><span class="o">(</span><span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
                 <span class="n">Row</span><span class="o">(</span><span class="nl">mainAxisSize:</span> <span class="n">MainAxisSize</span><span class="o">.</span><span class="na">min</span><span class="o">,</span> <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
                   <span class="n">_buildKey</span><span class="o">(</span><span class="mi">24</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                   <span class="n">_buildKey</span><span class="o">(</span><span class="mi">26</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                   <span class="n">_buildKey</span><span class="o">(</span><span class="mi">28</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                   <span class="n">_buildKey</span><span class="o">(</span><span class="mi">29</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                   <span class="n">_buildKey</span><span class="o">(</span><span class="mi">31</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                   <span class="n">_buildKey</span><span class="o">(</span><span class="mi">33</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                   <span class="n">_buildKey</span><span class="o">(</span><span class="mi">35</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                 <span class="o">]),</span>
                 <span class="n">Positioned</span><span class="o">(</span>
                     <span class="nl">left:</span> <span class="mf">0.0</span><span class="o">,</span>
                     <span class="nl">right:</span> <span class="mf">0.0</span><span class="o">,</span>
                     <span class="nl">bottom:</span> <span class="mi">100</span><span class="o">,</span>
                     <span class="nl">top:</span> <span class="mf">0.0</span><span class="o">,</span>
                     <span class="nl">child:</span> <span class="n">Row</span><span class="o">(</span>
                         <span class="nl">mainAxisAlignment:</span> <span class="n">MainAxisAlignment</span><span class="o">.</span><span class="na">spaceBetween</span><span class="o">,</span>
                         <span class="nl">mainAxisSize:</span> <span class="n">MainAxisSize</span><span class="o">.</span><span class="na">min</span><span class="o">,</span>
                         <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
                           <span class="n">Container</span><span class="o">(</span><span class="nl">width:</span> <span class="n">keyWidth</span> <span class="o">*</span> <span class="o">.</span><span class="mi">5</span><span class="o">),</span>
                           <span class="n">_buildKey</span><span class="o">(</span><span class="mi">25</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">true</span><span class="o">),</span>
                           <span class="n">_buildKey</span><span class="o">(</span><span class="mi">27</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">true</span><span class="o">),</span>
                           <span class="n">Container</span><span class="o">(</span><span class="nl">width:</span> <span class="n">keyWidth</span><span class="o">),</span>
                           <span class="n">_buildKey</span><span class="o">(</span><span class="mi">30</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">true</span><span class="o">),</span>
                           <span class="n">_buildKey</span><span class="o">(</span><span class="mi">32</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">true</span><span class="o">),</span>
                           <span class="n">_buildKey</span><span class="o">(</span><span class="mi">34</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">true</span><span class="o">),</span>
                           <span class="n">Container</span><span class="o">(</span><span class="nl">width:</span> <span class="n">keyWidth</span> <span class="o">*</span> <span class="o">.</span><span class="mi">5</span><span class="o">),</span>
                         <span class="o">])),</span>
               <span class="o">]),</span>
             <span class="o">);</span>
</code></pre></div></div>

<p>Here we have defined which midi notes are played for each octave.</p>

<p>Now add the function <code class="highlighter-rouge">_buildKey</code> underneath our <code class="highlighter-rouge">build</code> function.</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">Widget</span> <span class="nf">_buildKey</span><span class="p">(</span><span class="kt">int</span> <span class="n">midi</span><span class="o">,</span> <span class="kt">bool</span> <span class="n">accidental</span><span class="o">)</span> <span class="o">{</span>
     <span class="k">if</span> <span class="o">(</span><span class="n">accidental</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">Container</span><span class="o">(</span>
          <span class="nl">width:</span> <span class="n">keyWidth</span><span class="o">,</span>
          <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">black</span><span class="o">,</span>
          <span class="nl">margin:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="mf">2.0</span><span class="o">),</span>
          <span class="nl">padding:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="n">keyWidth</span> <span class="o">*</span> <span class="o">.</span><span class="mi">1</span><span class="o">),</span>
          <span class="nl">child:</span> <span class="n">Material</span><span class="o">(</span>
            <span class="nl">elevation:</span> <span class="mf">6.0</span><span class="o">,</span>
            <span class="nl">borderRadius:</span> <span class="n">borderRadius</span><span class="o">,</span>
            <span class="nl">shadowColor:</span> <span class="n">Color</span><span class="o">(</span><span class="mh">0x802196F3</span><span class="o">),</span>
          <span class="o">));</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">Container</span><span class="o">(</span>
        <span class="nl">width:</span> <span class="n">keyWidth</span><span class="o">,</span>
        <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="o">,</span>
        <span class="nl">margin:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="mf">2.0</span><span class="o">));</span>
  <span class="o">}</span>
</code></pre></div></div>

<p>Also add <code class="highlighter-rouge">borderRadius</code> to the bottom of <code class="highlighter-rouge">main.dart</code></p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="n">BorderRadiusGeometry</span> <span class="n">borderRadius</span> <span class="o">=</span> <span class="n">BorderRadius</span><span class="o">.</span><span class="na">only</span><span class="o">(</span>
    <span class="nl">bottomLeft:</span> <span class="n">Radius</span><span class="o">.</span><span class="na">circular</span><span class="o">(</span><span class="mf">10.0</span><span class="o">),</span> <span class="nl">bottomRight:</span> <span class="n">Radius</span><span class="o">.</span><span class="na">circular</span><span class="o">(</span><span class="mf">10.0</span><span class="o">));</span>

</code></pre></div></div>

<p>Your app should look like this:</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fkeys.png?alt=media&amp;token=3d1ffc6a-f53b-4315-95e1-5648d4aea773" alt="keys" /></p>

<p>Your code should look like this:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'package:flutter/services.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'package:flutter_midi/flutter_midi.dart'</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="n">runApp</span><span class="o">(</span><span class="n">MyApp</span><span class="o">());</span>

<span class="kd">class</span> <span class="nc">MyApp</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">_MyAppState</span> <span class="n">createState</span><span class="o">()</span> <span class="o">=&gt;</span> <span class="n">_MyAppState</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">_MyAppState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">initState</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">FlutterMidi</span><span class="o">.</span><span class="na">unmute</span><span class="o">();</span>
    <span class="n">rootBundle</span><span class="o">.</span><span class="na">load</span><span class="o">(</span><span class="s">"assets/sounds/Piano.sf2"</span><span class="o">).</span><span class="na">then</span><span class="o">((</span><span class="n">sf2</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">FlutterMidi</span><span class="o">.</span><span class="na">prepare</span><span class="o">(</span><span class="nl">sf2:</span> <span class="n">sf2</span><span class="o">,</span> <span class="nl">name:</span> <span class="s">"Piano.sf2"</span><span class="o">);</span>
    <span class="o">});</span>
    <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kt">double</span> <span class="kd">get</span> <span class="n">keyWidth</span> <span class="o">=&gt;</span> <span class="mi">80</span> <span class="o">+</span> <span class="o">(</span><span class="mi">80</span> <span class="o">*</span> <span class="n">_widthRatio</span><span class="o">);</span>
  <span class="kt">double</span> <span class="n">_widthRatio</span> <span class="o">=</span> <span class="mf">0.0</span><span class="o">;</span>
  <span class="kt">bool</span> <span class="n">_showLabels</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">MaterialApp</span><span class="o">(</span>
      <span class="nl">title:</span> <span class="s">'Flutter Demo'</span><span class="o">,</span>
      <span class="nl">theme:</span> <span class="n">ThemeData</span><span class="o">.</span><span class="na">dark</span><span class="o">(),</span>
      <span class="nl">home:</span> <span class="n">Scaffold</span><span class="o">(</span>
          <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="o">(</span><span class="nl">title:</span> <span class="n">Text</span><span class="o">(</span><span class="s">"Flutter Piano"</span><span class="o">)),</span>
          <span class="nl">drawer:</span>
              <span class="n">Drawer</span><span class="o">(</span><span class="nl">child:</span> <span class="n">SafeArea</span><span class="o">(</span><span class="nl">child:</span> <span class="n">ListView</span><span class="o">(</span><span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[]))),</span>
          <span class="nl">body:</span> <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span>
            <span class="nl">itemCount:</span> <span class="mi">7</span><span class="o">,</span>
            <span class="nl">scrollDirection:</span> <span class="n">Axis</span><span class="o">.</span><span class="na">horizontal</span><span class="o">,</span>
            <span class="nl">itemBuilder:</span> <span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">,</span> <span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
              <span class="kd">final</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">index</span> <span class="o">*</span> <span class="mi">12</span><span class="o">;</span>
              <span class="k">return</span> <span class="n">SafeArea</span><span class="o">(</span>
                <span class="nl">child:</span> <span class="n">Stack</span><span class="o">(</span><span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
                  <span class="n">Row</span><span class="o">(</span><span class="nl">mainAxisSize:</span> <span class="n">MainAxisSize</span><span class="o">.</span><span class="na">min</span><span class="o">,</span> <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
                    <span class="n">_buildKey</span><span class="o">(</span><span class="mi">24</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                    <span class="n">_buildKey</span><span class="o">(</span><span class="mi">26</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                    <span class="n">_buildKey</span><span class="o">(</span><span class="mi">28</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                    <span class="n">_buildKey</span><span class="o">(</span><span class="mi">29</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                    <span class="n">_buildKey</span><span class="o">(</span><span class="mi">31</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                    <span class="n">_buildKey</span><span class="o">(</span><span class="mi">33</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                    <span class="n">_buildKey</span><span class="o">(</span><span class="mi">35</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                  <span class="o">]),</span>
                  <span class="n">Positioned</span><span class="o">(</span>
                      <span class="nl">left:</span> <span class="mf">0.0</span><span class="o">,</span>
                      <span class="nl">right:</span> <span class="mf">0.0</span><span class="o">,</span>
                      <span class="nl">bottom:</span> <span class="mi">100</span><span class="o">,</span>
                      <span class="nl">top:</span> <span class="mf">0.0</span><span class="o">,</span>
                      <span class="nl">child:</span> <span class="n">Row</span><span class="o">(</span>
                          <span class="nl">mainAxisAlignment:</span> <span class="n">MainAxisAlignment</span><span class="o">.</span><span class="na">spaceBetween</span><span class="o">,</span>
                          <span class="nl">mainAxisSize:</span> <span class="n">MainAxisSize</span><span class="o">.</span><span class="na">min</span><span class="o">,</span>
                          <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
                            <span class="n">Container</span><span class="o">(</span><span class="nl">width:</span> <span class="n">keyWidth</span> <span class="o">*</span> <span class="o">.</span><span class="mi">5</span><span class="o">),</span>
                            <span class="n">_buildKey</span><span class="o">(</span><span class="mi">25</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">true</span><span class="o">),</span>
                            <span class="n">_buildKey</span><span class="o">(</span><span class="mi">27</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">true</span><span class="o">),</span>
                            <span class="n">Container</span><span class="o">(</span><span class="nl">width:</span> <span class="n">keyWidth</span><span class="o">),</span>
                            <span class="n">_buildKey</span><span class="o">(</span><span class="mi">30</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">true</span><span class="o">),</span>
                            <span class="n">_buildKey</span><span class="o">(</span><span class="mi">32</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">true</span><span class="o">),</span>
                            <span class="n">_buildKey</span><span class="o">(</span><span class="mi">34</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">true</span><span class="o">),</span>
                            <span class="n">Container</span><span class="o">(</span><span class="nl">width:</span> <span class="n">keyWidth</span> <span class="o">*</span> <span class="o">.</span><span class="mi">5</span><span class="o">),</span>
                          <span class="o">])),</span>
                <span class="o">]),</span>
              <span class="o">);</span>
            <span class="o">},</span>
          <span class="o">)),</span>
    <span class="o">);</span>
  <span class="o">}</span>

  <span class="n">Widget</span> <span class="n">_buildKey</span><span class="o">(</span><span class="kt">int</span> <span class="n">midi</span><span class="o">,</span> <span class="kt">bool</span> <span class="n">accidental</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">accidental</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">Container</span><span class="o">(</span>
          <span class="nl">width:</span> <span class="n">keyWidth</span><span class="o">,</span>
          <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">black</span><span class="o">,</span>
          <span class="nl">margin:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="mf">2.0</span><span class="o">),</span>
          <span class="nl">padding:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="n">keyWidth</span> <span class="o">*</span> <span class="o">.</span><span class="mi">1</span><span class="o">),</span>
          <span class="nl">child:</span> <span class="n">Material</span><span class="o">(</span>
            <span class="nl">elevation:</span> <span class="mf">6.0</span><span class="o">,</span>
            <span class="nl">borderRadius:</span> <span class="n">borderRadius</span><span class="o">,</span>
            <span class="nl">shadowColor:</span> <span class="n">Color</span><span class="o">(</span><span class="mh">0x802196F3</span><span class="o">),</span>
          <span class="o">));</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">Container</span><span class="o">(</span>
        <span class="nl">width:</span> <span class="n">keyWidth</span><span class="o">,</span>
        <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="o">,</span>
        <span class="nl">margin:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="mf">2.0</span><span class="o">));</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">const</span> <span class="n">BorderRadiusGeometry</span> <span class="n">borderRadius</span> <span class="o">=</span> <span class="n">BorderRadius</span><span class="o">.</span><span class="na">only</span><span class="o">(</span>
    <span class="nl">bottomLeft:</span> <span class="n">Radius</span><span class="o">.</span><span class="na">circular</span><span class="o">(</span><span class="mf">10.0</span><span class="o">),</span> <span class="nl">bottomRight:</span> <span class="n">Radius</span><span class="o">.</span><span class="na">circular</span><span class="o">(</span><span class="mf">10.0</span><span class="o">));</span>

</code></pre></div></div>

<h2 id="step-9">Step 9</h2>

<p>Time to add midi by adding the following import to the top of the file:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:tonic/tonic.dart'</span><span class="o">;</span>
</code></pre></div></div>

<p>In the <code class="highlighter-rouge">-buildKey</code> function you can add this line:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">final</span> <span class="n">pitchName</span> <span class="o">=</span> <span class="n">Pitch</span><span class="o">.</span><span class="na">fromMidiNumber</span><span class="o">(</span><span class="n">midi</span><span class="o">).</span><span class="na">toString</span><span class="o">();</span>
</code></pre></div></div>

<p>We can also create the piano key itself underneath it:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">final</span> <span class="n">pianoKey</span> <span class="o">=</span> <span class="n">Stack</span><span class="o">(</span>
     <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
       <span class="n">Semantics</span><span class="o">(</span>
           <span class="nl">button:</span> <span class="kc">true</span><span class="o">,</span>
           <span class="nl">hint:</span> <span class="n">pitchName</span><span class="o">,</span>
           <span class="nl">child:</span> <span class="n">Material</span><span class="o">(</span>
               <span class="nl">borderRadius:</span> <span class="n">borderRadius</span><span class="o">,</span>
               <span class="nl">color:</span> <span class="n">accidental</span> <span class="o">?</span> <span class="n">Colors</span><span class="o">.</span><span class="na">black</span> <span class="o">:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="o">,</span>
               <span class="nl">child:</span> <span class="n">InkWell</span><span class="o">(</span>
                 <span class="nl">borderRadius:</span> <span class="n">borderRadius</span><span class="o">,</span>
                 <span class="nl">highlightColor:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">grey</span><span class="o">,</span>
                 <span class="nl">onTap:</span> <span class="o">()</span> <span class="o">{},</span>
                 <span class="nl">onTapDown:</span> <span class="o">(</span><span class="n">_</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="n">FlutterMidi</span><span class="o">.</span><span class="na">playMidiNote</span><span class="o">(</span><span class="nl">midi:</span> <span class="n">midi</span><span class="o">),</span>
               <span class="o">))),</span>
       <span class="n">Positioned</span><span class="o">(</span>
           <span class="nl">left:</span> <span class="mf">0.0</span><span class="o">,</span>
           <span class="nl">right:</span> <span class="mf">0.0</span><span class="o">,</span>
           <span class="nl">bottom:</span> <span class="mf">20.0</span><span class="o">,</span>
           <span class="nl">child:</span> <span class="n">_showLabels</span>
               <span class="o">?</span> <span class="n">Text</span><span class="o">(</span><span class="n">pitchName</span><span class="o">,</span>
                   <span class="nl">textAlign:</span> <span class="n">TextAlign</span><span class="o">.</span><span class="na">center</span><span class="o">,</span>
                   <span class="nl">style:</span> <span class="n">TextStyle</span><span class="o">(</span>
                       <span class="nl">color:</span> <span class="o">!</span><span class="n">accidental</span> <span class="o">?</span> <span class="n">Colors</span><span class="o">.</span><span class="na">black</span> <span class="o">:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="o">))</span>
               <span class="o">:</span> <span class="n">Container</span><span class="o">()),</span>
     <span class="o">],</span>
   <span class="o">);</span>
</code></pre></div></div>

<p>Remove the color from the container and replace it with <code class="highlighter-rouge">child: pianoKey,</code></p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">if</span> <span class="o">(</span><span class="n">accidental</span><span class="o">)</span> <span class="o">{</span>
     <span class="k">return</span> <span class="n">Container</span><span class="o">(</span>
         <span class="nl">width:</span> <span class="n">keyWidth</span><span class="o">,</span>
         <span class="nl">margin:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="mf">2.0</span><span class="o">),</span>
         <span class="nl">padding:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="n">keyWidth</span> <span class="o">*</span> <span class="o">.</span><span class="mi">1</span><span class="o">),</span>
         <span class="nl">child:</span> <span class="n">Material</span><span class="o">(</span>
             <span class="nl">elevation:</span> <span class="mf">6.0</span><span class="o">,</span>
             <span class="nl">borderRadius:</span> <span class="n">borderRadius</span><span class="o">,</span>
             <span class="nl">shadowColor:</span> <span class="n">Color</span><span class="o">(</span><span class="mh">0x802196F3</span><span class="o">),</span>
             <span class="nl">child:</span> <span class="n">pianoKey</span><span class="o">));</span>
   <span class="o">}</span>
   <span class="k">return</span> <span class="n">Container</span><span class="o">(</span>
       <span class="nl">width:</span> <span class="n">keyWidth</span><span class="o">,</span>
       <span class="nl">child:</span> <span class="n">pianoKey</span><span class="o">,</span>
       <span class="nl">margin:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="mf">2.0</span><span class="o">));</span>
</code></pre></div></div>

<p>The complete function should look like this:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">Widget</span> <span class="nf">_buildKey</span><span class="p">(</span><span class="kt">int</span> <span class="n">midi</span><span class="o">,</span> <span class="kt">bool</span> <span class="n">accidental</span><span class="o">)</span> <span class="o">{</span>
   <span class="kd">final</span> <span class="n">pitchName</span> <span class="o">=</span> <span class="n">Pitch</span><span class="o">.</span><span class="na">fromMidiNumber</span><span class="o">(</span><span class="n">midi</span><span class="o">).</span><span class="na">toString</span><span class="o">();</span>
   <span class="kd">final</span> <span class="n">pianoKey</span> <span class="o">=</span> <span class="n">Stack</span><span class="o">(</span>
     <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
       <span class="n">Semantics</span><span class="o">(</span>
           <span class="nl">button:</span> <span class="kc">true</span><span class="o">,</span>
           <span class="nl">hint:</span> <span class="n">pitchName</span><span class="o">,</span>
           <span class="nl">child:</span> <span class="n">Material</span><span class="o">(</span>
               <span class="nl">borderRadius:</span> <span class="n">borderRadius</span><span class="o">,</span>
               <span class="nl">color:</span> <span class="n">accidental</span> <span class="o">?</span> <span class="n">Colors</span><span class="o">.</span><span class="na">black</span> <span class="o">:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="o">,</span>
               <span class="nl">child:</span> <span class="n">InkWell</span><span class="o">(</span>
                 <span class="nl">borderRadius:</span> <span class="n">borderRadius</span><span class="o">,</span>
                 <span class="nl">highlightColor:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">grey</span><span class="o">,</span>
                 <span class="nl">onTap:</span> <span class="o">()</span> <span class="o">{},</span>
                 <span class="nl">onTapDown:</span> <span class="o">(</span><span class="n">_</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="n">FlutterMidi</span><span class="o">.</span><span class="na">playMidiNote</span><span class="o">(</span><span class="nl">midi:</span> <span class="n">midi</span><span class="o">),</span>
               <span class="o">))),</span>
       <span class="n">Positioned</span><span class="o">(</span>
           <span class="nl">left:</span> <span class="mf">0.0</span><span class="o">,</span>
           <span class="nl">right:</span> <span class="mf">0.0</span><span class="o">,</span>
           <span class="nl">bottom:</span> <span class="mf">20.0</span><span class="o">,</span>
           <span class="nl">child:</span> <span class="n">_showLabels</span>
               <span class="o">?</span> <span class="n">Text</span><span class="o">(</span><span class="n">pitchName</span><span class="o">,</span>
                   <span class="nl">textAlign:</span> <span class="n">TextAlign</span><span class="o">.</span><span class="na">center</span><span class="o">,</span>
                   <span class="nl">style:</span> <span class="n">TextStyle</span><span class="o">(</span>
                       <span class="nl">color:</span> <span class="o">!</span><span class="n">accidental</span> <span class="o">?</span> <span class="n">Colors</span><span class="o">.</span><span class="na">black</span> <span class="o">:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="o">))</span>
               <span class="o">:</span> <span class="n">Container</span><span class="o">()),</span>
     <span class="o">],</span>
   <span class="o">);</span>
   <span class="k">if</span> <span class="o">(</span><span class="n">accidental</span><span class="o">)</span> <span class="o">{</span>
     <span class="k">return</span> <span class="n">Container</span><span class="o">(</span>
         <span class="nl">width:</span> <span class="n">keyWidth</span><span class="o">,</span>
         <span class="nl">margin:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="mf">2.0</span><span class="o">),</span>
         <span class="nl">padding:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="n">keyWidth</span> <span class="o">*</span> <span class="o">.</span><span class="mi">1</span><span class="o">),</span>
         <span class="nl">child:</span> <span class="n">Material</span><span class="o">(</span>
             <span class="nl">elevation:</span> <span class="mf">6.0</span><span class="o">,</span>
             <span class="nl">borderRadius:</span> <span class="n">borderRadius</span><span class="o">,</span>
             <span class="nl">shadowColor:</span> <span class="n">Color</span><span class="o">(</span><span class="mh">0x802196F3</span><span class="o">),</span>
             <span class="nl">child:</span> <span class="n">pianoKey</span><span class="o">));</span>
   <span class="o">}</span>
   <span class="k">return</span> <span class="n">Container</span><span class="o">(</span>
       <span class="nl">width:</span> <span class="n">keyWidth</span><span class="o">,</span>
       <span class="nl">child:</span> <span class="n">pianoKey</span><span class="o">,</span>
       <span class="nl">margin:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="mf">2.0</span><span class="o">));</span>
 <span class="o">}</span>
</code></pre></div></div>

<p>Now when you run the app it should look like this:</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Flabels.png?alt=media&amp;token=5008acee-ee65-4360-a831-686963e3c395" alt="labels" /></p>

<p>Almost there! Now let’s give our user some control.</p>

<h2 id="step-10">Step 10</h2>

<p>Add these settings to the <code class="highlighter-rouge">Drawer</code></p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Container</span><span class="o">(</span><span class="nl">height:</span> <span class="mf">20.0</span><span class="o">),</span>
<span class="n">ListTile</span><span class="o">(</span><span class="nl">title:</span> <span class="n">Text</span><span class="o">(</span><span class="s">"Change Width"</span><span class="o">)),</span>
<span class="n">Slider</span><span class="o">(</span>
    <span class="nl">activeColor:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">redAccent</span><span class="o">,</span>
    <span class="nl">inactiveColor:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="o">,</span>
    <span class="nl">min:</span> <span class="mf">0.0</span><span class="o">,</span>
    <span class="nl">max:</span> <span class="mf">1.0</span><span class="o">,</span>
    <span class="nl">value:</span> <span class="n">_widthRatio</span><span class="o">,</span>
    <span class="nl">onChanged:</span> <span class="o">(</span><span class="kt">double</span> <span class="n">value</span><span class="o">)</span> <span class="o">=&gt;</span>
        <span class="n">setState</span><span class="o">(()</span> <span class="o">=&gt;</span> <span class="n">_widthRatio</span> <span class="o">=</span> <span class="n">value</span><span class="o">)),</span>
<span class="n">Divider</span><span class="o">(),</span>
<span class="n">ListTile</span><span class="o">(</span>
    <span class="nl">title:</span> <span class="n">Text</span><span class="o">(</span><span class="s">"Show Labels"</span><span class="o">),</span>
    <span class="nl">trailing:</span> <span class="n">Switch</span><span class="o">(</span>
    <span class="nl">value:</span> <span class="n">_showLabels</span><span class="o">,</span>
    <span class="nl">onChanged:</span> <span class="o">(</span><span class="kt">bool</span> <span class="n">value</span><span class="o">)</span> <span class="o">=&gt;</span>
        <span class="n">setState</span><span class="o">(()</span> <span class="o">=&gt;</span> <span class="n">_showLabels</span> <span class="o">=</span> <span class="n">value</span><span class="o">))),</span>
<span class="n">Divider</span><span class="o">(),</span>
</code></pre></div></div>

<p>Now you should see this:</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Fsettings.png?alt=media&amp;token=a0485ead-c63e-43f9-b240-567d2772537d" alt="settings" /></p>

<h2 id="step-11">Step 11</h2>

<p>To start with <code class="highlighter-rouge">Middle C</code> lets add an inital scroll offset to the <code class="highlighter-rouge">ListView</code></p>

<p><code class="highlighter-rouge">  controller: ScrollController(initialScrollOffset: 1500.0),</code></p>

<p>Now when we start the app it should co to C4.</p>

<p>The final App should look like this:</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/website-b7fa0.appspot.com/o/images%2Fm3Fw4A56wih07gQ3sQW9rDXHKA13%2Ffinal.png?alt=media&amp;token=b9d3f3d0-9bbf-442e-ae98-d08bdf72e765" alt="final" /></p>

<p>The final code should look like this:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'package:flutter/services.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'package:flutter_midi/flutter_midi.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'package:tonic/tonic.dart'</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="n">runApp</span><span class="o">(</span><span class="n">MyApp</span><span class="o">());</span>

<span class="kd">class</span> <span class="nc">MyApp</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">_MyAppState</span> <span class="n">createState</span><span class="o">()</span> <span class="o">=&gt;</span> <span class="n">_MyAppState</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">_MyAppState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="nd">@override</span>
  <span class="n">initState</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">FlutterMidi</span><span class="o">.</span><span class="na">unmute</span><span class="o">();</span>
    <span class="n">rootBundle</span><span class="o">.</span><span class="na">load</span><span class="o">(</span><span class="s">"assets/sounds/Piano.sf2"</span><span class="o">).</span><span class="na">then</span><span class="o">((</span><span class="n">sf2</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">FlutterMidi</span><span class="o">.</span><span class="na">prepare</span><span class="o">(</span><span class="nl">sf2:</span> <span class="n">sf2</span><span class="o">,</span> <span class="nl">name:</span> <span class="s">"Piano.sf2"</span><span class="o">);</span>
    <span class="o">});</span>
    <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kt">double</span> <span class="kd">get</span> <span class="n">keyWidth</span> <span class="o">=&gt;</span> <span class="mi">80</span> <span class="o">+</span> <span class="o">(</span><span class="mi">80</span> <span class="o">*</span> <span class="n">_widthRatio</span><span class="o">);</span>
  <span class="kt">double</span> <span class="n">_widthRatio</span> <span class="o">=</span> <span class="mf">0.0</span><span class="o">;</span>
  <span class="kt">bool</span> <span class="n">_showLabels</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">MaterialApp</span><span class="o">(</span>
      <span class="nl">title:</span> <span class="s">'Flutter Demo'</span><span class="o">,</span>
      <span class="nl">theme:</span> <span class="n">ThemeData</span><span class="o">.</span><span class="na">dark</span><span class="o">(),</span>
      <span class="nl">home:</span> <span class="n">Scaffold</span><span class="o">(</span>
          <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="o">(</span><span class="nl">title:</span> <span class="n">Text</span><span class="o">(</span><span class="s">"Flutter Piano"</span><span class="o">)),</span>
          <span class="nl">drawer:</span> <span class="n">Drawer</span><span class="o">(</span>
              <span class="nl">child:</span> <span class="n">SafeArea</span><span class="o">(</span>
                  <span class="nl">child:</span> <span class="n">ListView</span><span class="o">(</span><span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
            <span class="n">Container</span><span class="o">(</span><span class="nl">height:</span> <span class="mf">20.0</span><span class="o">),</span>
            <span class="n">ListTile</span><span class="o">(</span><span class="nl">title:</span> <span class="n">Text</span><span class="o">(</span><span class="s">"Change Width"</span><span class="o">)),</span>
            <span class="n">Slider</span><span class="o">(</span>
                <span class="nl">activeColor:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">redAccent</span><span class="o">,</span>
                <span class="nl">inactiveColor:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="o">,</span>
                <span class="nl">min:</span> <span class="mf">0.0</span><span class="o">,</span>
                <span class="nl">max:</span> <span class="mf">1.0</span><span class="o">,</span>
                <span class="nl">value:</span> <span class="n">_widthRatio</span><span class="o">,</span>
                <span class="nl">onChanged:</span> <span class="o">(</span><span class="kt">double</span> <span class="n">value</span><span class="o">)</span> <span class="o">=&gt;</span>
                    <span class="n">setState</span><span class="o">(()</span> <span class="o">=&gt;</span> <span class="n">_widthRatio</span> <span class="o">=</span> <span class="n">value</span><span class="o">)),</span>
            <span class="n">Divider</span><span class="o">(),</span>
            <span class="n">ListTile</span><span class="o">(</span>
                <span class="nl">title:</span> <span class="n">Text</span><span class="o">(</span><span class="s">"Show Labels"</span><span class="o">),</span>
                <span class="nl">trailing:</span> <span class="n">Switch</span><span class="o">(</span>
                    <span class="nl">value:</span> <span class="n">_showLabels</span><span class="o">,</span>
                    <span class="nl">onChanged:</span> <span class="o">(</span><span class="kt">bool</span> <span class="n">value</span><span class="o">)</span> <span class="o">=&gt;</span>
                        <span class="n">setState</span><span class="o">(()</span> <span class="o">=&gt;</span> <span class="n">_showLabels</span> <span class="o">=</span> <span class="n">value</span><span class="o">))),</span>
            <span class="n">Divider</span><span class="o">(),</span>
          <span class="o">]))),</span>
          <span class="nl">body:</span> <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span>
            <span class="nl">itemCount:</span> <span class="mi">7</span><span class="o">,</span>
            <span class="nl">scrollDirection:</span> <span class="n">Axis</span><span class="o">.</span><span class="na">horizontal</span><span class="o">,</span>
            <span class="nl">controller:</span> <span class="n">ScrollController</span><span class="o">(</span><span class="nl">initialScrollOffset:</span> <span class="mf">1500.0</span><span class="o">),</span>
            <span class="nl">itemBuilder:</span> <span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">,</span> <span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
              <span class="kd">final</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">index</span> <span class="o">*</span> <span class="mi">12</span><span class="o">;</span>
              <span class="k">return</span> <span class="n">SafeArea</span><span class="o">(</span>
                <span class="nl">child:</span> <span class="n">Stack</span><span class="o">(</span><span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
                  <span class="n">Row</span><span class="o">(</span><span class="nl">mainAxisSize:</span> <span class="n">MainAxisSize</span><span class="o">.</span><span class="na">min</span><span class="o">,</span> <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
                    <span class="n">_buildKey</span><span class="o">(</span><span class="mi">24</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                    <span class="n">_buildKey</span><span class="o">(</span><span class="mi">26</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                    <span class="n">_buildKey</span><span class="o">(</span><span class="mi">28</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                    <span class="n">_buildKey</span><span class="o">(</span><span class="mi">29</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                    <span class="n">_buildKey</span><span class="o">(</span><span class="mi">31</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                    <span class="n">_buildKey</span><span class="o">(</span><span class="mi">33</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                    <span class="n">_buildKey</span><span class="o">(</span><span class="mi">35</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">false</span><span class="o">),</span>
                  <span class="o">]),</span>
                  <span class="n">Positioned</span><span class="o">(</span>
                      <span class="nl">left:</span> <span class="mf">0.0</span><span class="o">,</span>
                      <span class="nl">right:</span> <span class="mf">0.0</span><span class="o">,</span>
                      <span class="nl">bottom:</span> <span class="mi">100</span><span class="o">,</span>
                      <span class="nl">top:</span> <span class="mf">0.0</span><span class="o">,</span>
                      <span class="nl">child:</span> <span class="n">Row</span><span class="o">(</span>
                          <span class="nl">mainAxisAlignment:</span> <span class="n">MainAxisAlignment</span><span class="o">.</span><span class="na">spaceBetween</span><span class="o">,</span>
                          <span class="nl">mainAxisSize:</span> <span class="n">MainAxisSize</span><span class="o">.</span><span class="na">min</span><span class="o">,</span>
                          <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
                            <span class="n">Container</span><span class="o">(</span><span class="nl">width:</span> <span class="n">keyWidth</span> <span class="o">*</span> <span class="o">.</span><span class="mi">5</span><span class="o">),</span>
                            <span class="n">_buildKey</span><span class="o">(</span><span class="mi">25</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">true</span><span class="o">),</span>
                            <span class="n">_buildKey</span><span class="o">(</span><span class="mi">27</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">true</span><span class="o">),</span>
                            <span class="n">Container</span><span class="o">(</span><span class="nl">width:</span> <span class="n">keyWidth</span><span class="o">),</span>
                            <span class="n">_buildKey</span><span class="o">(</span><span class="mi">30</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">true</span><span class="o">),</span>
                            <span class="n">_buildKey</span><span class="o">(</span><span class="mi">32</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">true</span><span class="o">),</span>
                            <span class="n">_buildKey</span><span class="o">(</span><span class="mi">34</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="kc">true</span><span class="o">),</span>
                            <span class="n">Container</span><span class="o">(</span><span class="nl">width:</span> <span class="n">keyWidth</span> <span class="o">*</span> <span class="o">.</span><span class="mi">5</span><span class="o">),</span>
                          <span class="o">])),</span>
                <span class="o">]),</span>
              <span class="o">);</span>
            <span class="o">},</span>
          <span class="o">)),</span>
    <span class="o">);</span>
  <span class="o">}</span>

  <span class="n">Widget</span> <span class="n">_buildKey</span><span class="o">(</span><span class="kt">int</span> <span class="n">midi</span><span class="o">,</span> <span class="kt">bool</span> <span class="n">accidental</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="n">pitchName</span> <span class="o">=</span> <span class="n">Pitch</span><span class="o">.</span><span class="na">fromMidiNumber</span><span class="o">(</span><span class="n">midi</span><span class="o">).</span><span class="na">toString</span><span class="o">();</span>
    <span class="kd">final</span> <span class="n">pianoKey</span> <span class="o">=</span> <span class="n">Stack</span><span class="o">(</span>
      <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
        <span class="n">Semantics</span><span class="o">(</span>
            <span class="nl">button:</span> <span class="kc">true</span><span class="o">,</span>
            <span class="nl">hint:</span> <span class="n">pitchName</span><span class="o">,</span>
            <span class="nl">child:</span> <span class="n">Material</span><span class="o">(</span>
                <span class="nl">borderRadius:</span> <span class="n">borderRadius</span><span class="o">,</span>
                <span class="nl">color:</span> <span class="n">accidental</span> <span class="o">?</span> <span class="n">Colors</span><span class="o">.</span><span class="na">black</span> <span class="o">:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="o">,</span>
                <span class="nl">child:</span> <span class="n">InkWell</span><span class="o">(</span>
                  <span class="nl">borderRadius:</span> <span class="n">borderRadius</span><span class="o">,</span>
                  <span class="nl">highlightColor:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">grey</span><span class="o">,</span>
                  <span class="nl">onTap:</span> <span class="o">()</span> <span class="o">{},</span>
                  <span class="nl">onTapDown:</span> <span class="o">(</span><span class="n">_</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="n">FlutterMidi</span><span class="o">.</span><span class="na">playMidiNote</span><span class="o">(</span><span class="nl">midi:</span> <span class="n">midi</span><span class="o">),</span>
                <span class="o">))),</span>
        <span class="n">Positioned</span><span class="o">(</span>
            <span class="nl">left:</span> <span class="mf">0.0</span><span class="o">,</span>
            <span class="nl">right:</span> <span class="mf">0.0</span><span class="o">,</span>
            <span class="nl">bottom:</span> <span class="mf">20.0</span><span class="o">,</span>
            <span class="nl">child:</span> <span class="n">_showLabels</span>
                <span class="o">?</span> <span class="n">Text</span><span class="o">(</span><span class="n">pitchName</span><span class="o">,</span>
                    <span class="nl">textAlign:</span> <span class="n">TextAlign</span><span class="o">.</span><span class="na">center</span><span class="o">,</span>
                    <span class="nl">style:</span> <span class="n">TextStyle</span><span class="o">(</span>
                        <span class="nl">color:</span> <span class="o">!</span><span class="n">accidental</span> <span class="o">?</span> <span class="n">Colors</span><span class="o">.</span><span class="na">black</span> <span class="o">:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="o">))</span>
                <span class="o">:</span> <span class="n">Container</span><span class="o">()),</span>
      <span class="o">],</span>
    <span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">accidental</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">Container</span><span class="o">(</span>
          <span class="nl">width:</span> <span class="n">keyWidth</span><span class="o">,</span>
          <span class="nl">margin:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="mf">2.0</span><span class="o">),</span>
          <span class="nl">padding:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="n">keyWidth</span> <span class="o">*</span> <span class="o">.</span><span class="mi">1</span><span class="o">),</span>
          <span class="nl">child:</span> <span class="n">Material</span><span class="o">(</span>
              <span class="nl">elevation:</span> <span class="mf">6.0</span><span class="o">,</span>
              <span class="nl">borderRadius:</span> <span class="n">borderRadius</span><span class="o">,</span>
              <span class="nl">shadowColor:</span> <span class="n">Color</span><span class="o">(</span><span class="mh">0x802196F3</span><span class="o">),</span>
              <span class="nl">child:</span> <span class="n">pianoKey</span><span class="o">));</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">Container</span><span class="o">(</span>
        <span class="nl">width:</span> <span class="n">keyWidth</span><span class="o">,</span>
        <span class="nl">child:</span> <span class="n">pianoKey</span><span class="o">,</span>
        <span class="nl">margin:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="mf">2.0</span><span class="o">));</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">const</span> <span class="n">BorderRadiusGeometry</span> <span class="n">borderRadius</span> <span class="o">=</span> <span class="n">BorderRadius</span><span class="o">.</span><span class="na">only</span><span class="o">(</span>
    <span class="nl">bottomLeft:</span> <span class="n">Radius</span><span class="o">.</span><span class="na">circular</span><span class="o">(</span><span class="mf">10.0</span><span class="o">),</span> <span class="nl">bottomRight:</span> <span class="n">Radius</span><span class="o">.</span><span class="na">circular</span><span class="o">(</span><span class="mf">10.0</span><span class="o">));</span>

</code></pre></div></div>

<h1 id="conclusion">Conclusion</h1>

<p>If you delete <code class="highlighter-rouge">tests/</code> and run <code class="highlighter-rouge">find . -name "*.dart" | xargs cat | wc -c</code> you will see that the dart code only uses <code class="highlighter-rouge">5032</code> bytes of space!</p>

<p>Now we have a fully functional piano that you can play with and enjoy on iOS and Android.</p>

<p>I was really inspired when creating this for the <a href="https://flutter.dev/create">Flutter Create</a> contest.</p>

<p>Hope you learned something, if you have any questions you can always read out to me. This is an open source piano and would love PRs on the main project <a href="https://github.com/AppleEducate/flutter_piano">here</a> and an online <a href="https://pocketpiano.app">demo</a>!</p>

  </div><a class="u-url" href="/2019/03/12/making-a-piano/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Rody Davis</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Rody Davis</li><li><a class="u-email" href="mailto:rody.davis.jr@gmail.com">rody.davis.jr@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/rodydavis"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">rodydavis</span></a></li><li><a href="https://www.twitter.com/rodydavis"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">rodydavis</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Flutter powered development made easy.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
